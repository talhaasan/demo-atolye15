Eksikler:
Proje lint adımında hata veriyor, hata kod tarafında biraz baktım ama çözümü bulamadım.
Pipeline'da bu kısmı yoruma aldım.
Yapılanlar:
Pipeline yapıları stage ve prod ortamı CircleCI'da kurulmuştur.
Google Cloud'da Kubernetes cluster'ı kurulmuştur.
Cluster'a ingress ve cert-manager uygulamaları kurulmuştur.
Google Cloud domain'den talhaasan-atolye15hello.com satın alınarak letsencrypt üzerinden SSL ayarları yapılmıştır.
Oluşturulan manifest dosyaları pipeline'da uygulanmıştır.
k8s/ssl/letsencrypted-issuer.yaml-> cert manager letsencrypt'e sertifika oluşturma doğrulayıcısını aktifleştiriyor.
k8s/ssl/certrequest.yaml->letsenycrytedissuer kullanarak secretlara stage namespace'inde talhaasan-atolye15hello.com'a göre otomatik sertifika genarete ediyor.
k8s/ssl/ingress.yaml-> Üretilen secret ve domain veriliyor.
Deployment sonunda da her iki ortam için de mail gönderilmektedir.(Projeyi sizinle paylaşmak için public'e dönüştürdüğümde SendGrid api key'leri sildi.)